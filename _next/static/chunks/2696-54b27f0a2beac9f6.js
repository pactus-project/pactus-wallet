(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2696],{26313:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var l=t(54568),r=t(16600);t(70742);let s=function(e){let{children:a,visible:t=!0,height:s,width:n,circle:i=!1,animate:o=!0,className:c,style:d,...u}=e;return(0,l.jsx)("div",{...u,style:{...d,"--skeleton-height":s,"--skeleton-width":i?s:n},"data-visible":t,"data-animate":o,className:(0,r.A)("skeleton rounded-md",c),children:a})}},41657:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568),r=t(62484);t(7620);var s=t(90623);let n=e=>{let{address:a}=e;return(0,l.jsx)(s.A,{address:a,type:"send",icon:r.AO,variant:"primary"})}},61624:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var l=t(7620),r=t(77153);function s(e){let{wallet:a}=(0,r.v)(),[t,s]=(0,l.useState)(0),[n,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null),d=(0,l.useCallback)(async(t,l)=>{i(!0),c(null);let r=null!=t?t:a;if(!r)return c("Wallet not available"),i(!1),0;try{let a=l||e,t=0;if(a)t=(await r.getAddressBalance(a)).toPac(),s(t);else{let e=r.getAddresses();if(0===e.length)return s(0),i(!1),0;let a=e.map(async e=>{try{return(await r.getAddressBalance(e.address)).toPac()}catch(a){return console.warn("Failed to fetch balance for address ".concat(e.address,":"),a),0}});t=(await Promise.all(a)).reduce((e,a)=>e+a,0),s(t)}return t}catch(e){return s(0),c(e instanceof Error?e.message:"Failed to fetch balance"),0}finally{i(!1)}},[a,e]);return(0,l.useEffect)(()=>{a&&d()},[a,d]),{balance:t,isLoading:n,error:o,fetchBalance:d}}},67768:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568);t(7620);var r=t(90623),s=t(62484);let n=e=>{let{address:a=""}=e;return(0,l.jsx)(r.A,{address:a,type:"bridge",icon:s.Ji,variant:"secondary",className:"w-[119px] h-[38px] border-[1px] border-solid border-surface-light tablet:border-none"})}},69684:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568);t(7620);let r=e=>{let{value:a,onChange:t,options:r,placeholder:s,id:n,name:i,className:o="",labelClassName:c="",disabled:d=!1,required:u=!1,onBlur:m,label:x,hideLabel:h=!1}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[!h&&x&&(0,l.jsx)("label",{htmlFor:n,className:"text-sm font-medium text-quaternary ".concat(c),children:x}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{id:n,name:i,value:a,onChange:t,onBlur:m,className:"w-full p-3 rounded-md bg-background text-tertiary \n            text-sm border border-border focus:outline-none\n             focus:border-primary appearance-none hover:bg-background\n           focus:bg-background ".concat(o),disabled:d,required:u,children:[s&&(0,l.jsx)("option",{value:"",disabled:!0,className:"text-disabled",children:s}),r.map((e,a)=>(0,l.jsx)("option",{value:e.value,className:"bg-background text-quaternary",children:e.label},"".concat(e.value,"-").concat(a)))]}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})};var s=t(57798);let n=e=>{let{value:a,onChange:t,options:n,placeholder:i,id:o,className:c,name:d,labelClassName:u="",disabled:m=!1,required:x=!1,onBlur:h,label:f,hideLabel:p=!1,rules:b}=e;return(0,l.jsx)(s.A,{name:d,className:"flex flex-col gap-1",rules:b,children:(0,l.jsx)(r,{value:a,onChange:t,options:n,placeholder:i,id:o,className:c,name:d,labelClassName:u,disabled:m,required:x,onBlur:h,label:f,hideLabel:p})})}},70742:()=>{},82098:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var l=t(54568);t(7620);var r=t(61773),s=t(24083);let n=e=>{let{value:a,onChange:t,type:n="text",placeholder:i="",id:o,name:c,className:d="",labelClassName:u="",disabled:m=!1,required:x=!1,onBlur:h,label:f,hideLabel:p=!1,rightElement:b,autoComplete:v,showLogo:g=!1}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[!p&&f&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("label",{htmlFor:o,className:"text-sm font-medium text-quaternary ".concat(u),children:f}),g&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-quaternary",children:["(",(0,l.jsx)(r.default,{src:s.y,alt:"Pactus logo",className:"w-5 h-5 inline-block"}),")"]})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:n,id:o,name:c,value:a,onChange:t,onBlur:h,className:"w-full p-3 rounded-md bg-background text-text-primary text-sm border border-border focus:outline-none focus:border-primary ".concat(b?"pr-16":""," ").concat(d),placeholder:i,disabled:m,required:x,autoComplete:v}),b&&(0,l.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:b})]})]})};var i=t(57798);let o=e=>{let{value:a,onChange:t,type:r="text",placeholder:s="",id:o,name:c,className:d="",labelClassName:u="",disabled:m=!1,required:x=!1,onBlur:h,label:f,hideLabel:p=!1,rightElement:b,autoComplete:v,showLogo:g=!1,rules:w}=e;return(0,l.jsx)(i.A,{name:c,className:"flex flex-col gap-1",rules:w,children:(0,l.jsx)(n,{value:a,onChange:t,type:r,placeholder:s,id:o,name:c,className:d,labelClassName:u,disabled:m,required:x,onBlur:h,label:f,hideLabel:p,rightElement:b,autoComplete:v,showLogo:g})})}},90623:(e,a,t)=>{"use strict";t.d(a,{A:()=>M});var l=t(54568),r=t(7620),s=t(61773),n=t(23187),i=t(4180),o=t(40692),c=t(88443);let d=e=>{let{children:a,className:t="",...r}=e;return(0,l.jsx)("span",{className:"bg-gradient-primary bg-clip-text text-transparent font-medium font-primary text-xs ".concat(t),...r,children:a})};var u=t(24083);let m=e=>{let{value:a,onChange:t,maxLength:r=64,placeholder:n="Enter memo (optional)",id:i="memo",name:o="memo",className:c="",disabled:m=!1,required:x=!1,onBlur:h,label:f="Memo",hideLabel:p=!1,showLogo:b=!1,labelClassName:v=""}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[!p&&f&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("label",{htmlFor:i,className:"text-sm font-medium text-quaternary ".concat(v),children:f}),b&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-quaternary",children:["(",(0,l.jsx)(s.default,{src:u.y,alt:"Pactus logo",className:"w-5 h-5 inline-block"}),")"]})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",id:i,name:o,value:a,onChange:t,onBlur:h,className:"w-full p-3 rounded-md bg-background text-text-primary text-sm border border-border focus:outline-none focus:border-primary ".concat(c),placeholder:n,maxLength:r,disabled:m,required:x}),(0,l.jsxs)(d,{className:"absolute right-3 bottom-3",children:[null==a?void 0:a.length,"/",r]})]})]})};var x=t(57798);let h=e=>{let{value:a,onChange:t,maxLength:r=64,placeholder:s="Enter memo (optional)",id:n="memo",name:i="memo",className:o="",disabled:c=!1,required:d=!1,onBlur:u,label:h="Memo",hideLabel:f=!1,rules:p}=e;return(0,l.jsx)(x.A,{name:i,className:"flex flex-col gap-1",rules:p,children:(0,l.jsx)(m,{value:a,onChange:t,maxLength:r,placeholder:s,id:n,name:i,className:o,disabled:c,required:d,onBlur:u,label:h,hideLabel:f})})};var f=t(82098),p=t(69684),b=t(60351),v=t(61624),g=t(77153),w=t(29851);function j(){let{wallet:e}=(0,g.v)(),[a,t]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null),[n,i]=(0,r.useState)(null),o=(0,r.useCallback)(async a=>{let{fromAddress:l,toAddress:r,amount:n,fee:o,memo:c="",password:d}=a;t(!0),s(null),i(null);try{if(!e)throw Error("Wallet is not available");if(!l||!r||!n||!o||!d)throw Error("Missing required transaction parameters");let a=w.J0.fromString(n),t=w.J0.fromString(o),s=await e.getSignTransferTransaction(l,r,a,t,c,d);return i(s.signedRawTxHex),s}catch(e){throw s(e instanceof Error?e.message:"Failed to send transaction"),e}finally{t(!1)}},[e]),c=(0,r.useCallback)(async a=>{let{fromAddress:l,toAddress:r,amount:n,fee:o,memo:c="",password:d,publicKey:u=""}=a;t(!0),s(null),i(null);try{if(!e)throw Error("Wallet is not available");if(!l||!r||!n||!o||!d)throw Error("Missing required transaction parameters");let a=w.J0.fromString(n),t=w.J0.fromString(o),s=await e.getSignBondTransaction(l,r,a,t,c,d,u);return i(s.signedRawTxHex),s}catch(e){throw s(e instanceof Error?e.message:"Failed to send transaction"),e}finally{t(!1)}},[e]);return{getSignTransferTransaction:o,getSignBondTransaction:c,broadcastTransaction:(0,r.useCallback)(async a=>{t(!0),s(null);try{if(!e)throw Error("Wallet is not available");if(!a)throw Error("Missing signed transaction data");let t=await e.broadcastTransaction(a);return i(t),t}catch(e){throw s(e instanceof Error?e.message:"Failed to broadcast transaction"),e}finally{t(!1)}},[e]),getValidatorPublicKey:(0,r.useCallback)(async a=>{var t;return null!=(t=null==e?void 0:e.getIndexedPublicKey(a))?t:""},[e]),isLoading:a,error:l,txHash:n}}var y=t(59280),N=t(8514),A=t(51874);let C={BRIDGE:{type:"TRANSFER",showTransactionTypeSelector:!1,showBridgeChainSelector:!0,showPublicKeyField:!1,receiverLabel:"evmAddress",receiverPlaceholder:"enterEvmAddress",fromLabel:"from"},TRANSFER:{type:"TRANSFER",showTransactionTypeSelector:!0,showBridgeChainSelector:!1,showPublicKeyField:!1,receiverLabel:"receiver",receiverPlaceholder:"selectOrEnterAddress",fromLabel:"from"},BOND:{type:"BOND",showTransactionTypeSelector:!0,showBridgeChainSelector:!1,showPublicKeyField:!0,receiverLabel:"validatorAddress",receiverPlaceholder:"selectOrEnterAddress",fromLabel:"accountAddress"}},S=e=>{var a,t;let{onSubmit:s,onPreviewTransaction:o,submitButtonText:u="Next",isLoading:m=!1,setIsLoading:x,isOpen:g=!0,forceReset:w=0,isBridgeMode:S=!1,initialValues:k}=e,[T]=(0,N.mN)(),E="tpc1rlqj68h3hm4nw9js3jpnl75kr8sfh79xkxt2lck",F=(0,N.FH)("fromAccount",T),B=(0,N.FH)("fee",T),L=(0,N.FH)("receiver",T),P=(0,N.FH)("amount",T),R=(0,N.FH)("password",T),M=(0,N.FH)("transactionType",T),H=(0,N.FH)("bridgeChain",T),q=S?"BRIDGE":M||"TRANSFER",D=C[q],O="BOND"===q,{showLoadingDialog:V,hideLoadingDialog:I}=(0,r.useContext)(y.bI),{getAccountList:z}=(0,c.useAccount)(),K=z(),{t:W}=(0,i.s)(),{getSignTransferTransaction:_,getSignBondTransaction:J}=j(),{balance:U,fetchBalance:G,isLoading:Q}=(0,v.A)(F),[Y,Z]=(0,r.useState)(!1),$=m||Y,X=[{value:"Base",label:"Base"},{value:"BSC",label:"BNB Chain"},{value:"Polygon",label:"Polygon"}],ee=K.map(e=>({value:e.address,label:"\uD83E\uDD1D ".concat(e.name)}));(0,r.useEffect)(()=>{g||T.resetFields()},[g,K]),(0,r.useEffect)(()=>{w>0&&T.resetFields()},[w]),(0,r.useEffect)(()=>{F&&G(null,F)},[F,G]),(0,r.useEffect)(()=>{if(S&&L&&H){let e="".concat(L).concat("@".concat(H));T.setFieldValue("memo",e)}},[L,H,S,T]);let ea=async e=>{try{let{fromAccount:a,receiver:t,amount:l,fee:r,memo:n,password:i,publicKey:c}=e;x?(x(!0),V(W("transactionLoading"))):Z(!0);let d=O?await J({fromAddress:a||"",toAddress:t||"",amount:l||"",fee:r||"",memo:n||"",password:i||"",publicKey:c||""}):await _({fromAddress:a||"",toAddress:S&&E?E:t||"",amount:l||"",fee:r||"",memo:n||"",password:i||""});T.resetFields(),o?o(e,d.signedRawTxHex):s&&s(e,d.signedRawTxHex)}catch(e){A.oR.error(e.message)}finally{x?(x(!1),I()):Z(!1)}},et=F&&L&&P&&B&&R&&F!==L;return(0,l.jsxs)(N.lV,{className:"flex flex-col gap-5 w-full px-2",form:T,initialValues:{transactionType:D.type,fromAccount:(null==k?void 0:k.fromAccount)||(null==(a=K[0])?void 0:a.address)||"",receiver:"",amount:"",fee:"0.01",memo:"",password:"",bridgeChain:(null==k?void 0:k.bridgeChain)||(S?"Base":void 0)},onFinish:ea,children:[D.showTransactionTypeSelector?(0,l.jsx)(p.A,{id:"transactionType",name:"transactionType",options:[{value:"TRANSFER",label:"Transfer"},{value:"BOND",label:"Bond"}],label:W("transactionType")}):null,D.showBridgeChainSelector?(0,l.jsx)(p.A,{id:"bridgeChain",name:"bridgeChain",options:X,label:W("selectBridgeChain")}):null,(0,l.jsx)(p.A,{id:"from-account",name:"fromAccount",options:ee,label:W(D.fromLabel)}),(0,l.jsx)(f.A,{id:"receiver",name:"receiver",placeholder:W(D.receiverPlaceholder),label:"evmAddress"===D.receiverLabel&&H?"".concat(W("addressOn")," ").concat((null==(t=X.find(e=>e.value===H))?void 0:t.label)||H):W(D.receiverLabel)}),D.showPublicKeyField?(0,l.jsx)(f.A,{id:"publicKey",name:"publicKey",placeholder:W("enterPublickey"),label:W("validatorPublicKey")}):null,(0,l.jsx)(f.A,{id:"amount",name:"amount",placeholder:"0.00",label:W("amount"),showLogo:!0,rightElement:(0,l.jsx)(n.A,{variant:"text",size:"small",onClick:()=>{if(U&&!Q){let e=Math.max(0,U-(parseFloat(B)||.01));T.setFieldValue("amount",e.toFixed(5))}},disabled:Q||!U,className:"px-2 py-1 min-w-[40px] bg-transparent hover:bg-transparent",children:(0,l.jsx)(d,{children:W("max")})})}),(0,l.jsx)(f.A,{id:"fee",name:"fee",placeholder:"0.001",label:W("fee"),showLogo:!0,rightElement:(0,l.jsx)(n.A,{variant:"text",size:"small",onClick:()=>{T.setFieldValue("fee","0.01")},className:"px-2 py-1 min-w-[40px] bg-transparent hover:bg-transparent",children:(0,l.jsx)(d,{children:W("auto")})})}),(0,l.jsx)("div",{className:S?"hidden":"block",children:(0,l.jsx)(h,{})}),(0,l.jsx)(b.A,{id:"password",placeholder:W("enterYourPassword"),label:W("password")}),(0,l.jsx)("div",{className:"flex justify-end mt-3",children:(0,l.jsx)(n.A,{variant:"primary",size:"small",type:"submit",className:"w-[86px] h-[38px]",isLoading:$,disabled:!et||$,children:u})})]})};var k=t(68175),T=t(7657);let E=e=>{let{isOpen:a,fromAccount:t,receiver:i,amount:c,fee:d,memo:m,signature:x,onConfirm:h,onClose:f,title:p="Sending",isSending:b=!1,countdown:v=0}=e,g=2*Math.PI*12,[w,j]=(0,r.useState)(0);(0,r.useEffect)(()=>{v>0&&j((10-v)/10*100)},[v]);let y=(0,k.FB)(),N=(0,r.useMemo)(()=>[y.accessor("field",{header:"Field",cell:e=>(0,l.jsx)("span",{className:"font-medium text-quaternary text-[14px]",children:e.getValue()}),size:120}),y.accessor("value",{header:"Value",cell:e=>{let a=e.getValue();return"Signature"===e.row.original.field?(0,l.jsx)("div",{className:"break-all text-xs bg-background-secondary p-1 rounded text-tertiary font-medium",children:a}):"Amount"===e.row.original.field||"Network fee"===e.row.original.field?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"break-all text-tertiary text-[12px] font-medium",children:a}),(0,l.jsx)(s.default,{src:u.y,alt:"Pactus logo",className:"w-3 h-3 inline-block"})]}):(0,l.jsx)("span",{className:"break-all text-tertiary text-[12px] font-medium",children:a})}})],[]),A=(0,r.useMemo)(()=>{let e=[{field:"From",value:t},{field:"Receiver",value:i},{field:"Amount",value:c},{field:"Network fee",value:d}];return m&&e.push({field:"Memo",value:m}),x&&e.push({field:"Signed Transaction",value:x}),e},[t,i,c,d,m,x]),C=(0,T.N4)({data:A,columns:N,getCoreRowModel:(0,k.HT)()});return(0,l.jsx)(o.A,{isOpen:a,onClose:f,title:p,showCloseButton:!b,children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-2",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsx)("tbody",{children:C.getRowModel().rows.map(e=>(0,l.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{className:"py-3 ".concat("field"===e.column.id?"w-1/3 pr-4":"w-2/3"),children:(0,T.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})})}),(0,l.jsx)("div",{className:"flex justify-end gap-2 mt-4",children:b?(0,l.jsxs)("div",{className:"flex items-center justify-end w-full gap-2",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 text-primary",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 30 30",children:[(0,l.jsx)("circle",{cx:"15",cy:"15",r:12,fill:"transparent",stroke:"#2D3748",strokeWidth:"2"}),(0,l.jsx)("circle",{cx:"15",cy:"15",r:12,fill:"transparent",stroke:"#0FA870",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:g,strokeDashoffset:g-w/100*g,transform:"rotate(-90 15 15)",className:"transition-all duration-300 ease-linear"}),(0,l.jsx)("text",{x:"15",y:"16",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:v})]})})}),(0,l.jsx)(n.A,{variant:"secondary",size:"small",className:"w-[86px] h-[38px] bg-gradient-to-r from-[#EF0F0F] to-[#890909] text-white border-0",onClick:f,disabled:!0,children:"Cancel"})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.A,{variant:"primary",size:"small",className:"w-[86px] h-[38px]",onClick:h,children:"Confirm"})})})]})})};var F=t(7375),B=t(33934),L=t(96494);let P=e=>{let{isOpen:a,onClose:t,txHash:c,amount:m,recipient:x,date:h=new Date().toLocaleString(),networkFee:f="0.001"}=e,{t:p}=(0,i.s)(),{wallet:b}=(0,y.vT)(),v=(0,k.FB)(),[g,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(g){let e=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(e)}},[g]);let j=(0,r.useMemo)(()=>[v.accessor("field",{header:"Field",cell:e=>(0,l.jsx)("span",{className:"text-quaternary text-sm",children:e.getValue()}),size:120}),v.accessor("value",{header:"Value",cell:e=>{let a=e.getValue(),t=e.row.original.field;return"Tx Hash"===t?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"text-tertiary break-all text-sm",children:a}),(0,l.jsx)("button",{className:"w-10 h-10",onClick:()=>{navigator.clipboard.writeText(c),w(!0)},"aria-label":"Copy address to clipboard",title:"Copy address to clipboard",children:(0,l.jsx)(s.default,{src:g?B.FU:B.nJ,alt:g?"Copied successfully":"Copy to clipboard",width:20,height:20})})]}):"Network Fee"===t?(0,l.jsxs)("div",{className:"flex items-center gap-1 text-tertiary text-sm",children:[a,(0,l.jsx)(s.default,{src:u.y,alt:"Pactus logo",className:"w-3 h-3 inline-block"})]}):"Status"===t?(0,l.jsx)(d,{className:"text-sm text-left",children:a}):(0,l.jsx)("span",{className:"text-tertiary text-sm text-left",children:a})}})],[g,c]),N=(0,r.useMemo)(()=>[{field:"Tx Hash",value:c},{field:"Status",value:"Successful"},{field:"Date",value:h},{field:"Recipient",value:x},{field:"Network Fee",value:f}],[c,h,f,x]),A=(0,T.N4)({data:N,columns:j,getCoreRowModel:(0,k.HT)()});return(0,l.jsx)(o.A,{isOpen:a,onClose:t,title:p("transactionSent"),showCloseButton:!0,children:(0,l.jsxs)("div",{className:"flex flex-col items-center p-4 gap-4",children:[(0,l.jsx)("div",{className:"flex flex-col items-center gap-2 w-full",children:(0,l.jsxs)(F.A,{variant:"h1",className:"text-quaternary text-[32px] md:text-[38px]",children:["-",m," PAC"]})}),(0,l.jsx)("div",{className:"bg-background-secondary rounded-md p-4 w-full",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsx)("tbody",{children:A.getRowModel().rows.map(e=>(0,l.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{className:"py-2 ".concat("field"===e.column.id?"w-1/3 pr-4 text-left":"w-2/3 text-left"),children:(0,T.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})})}),(0,l.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,l.jsx)(n.A,{variant:"secondary",size:"medium",className:"flex-1 invisible",onClick:t,children:p("close")}),(0,l.jsx)(n.A,{variant:"primary",size:"medium",onClick:()=>{(null==b?void 0:b.isTestnet())?window.open("".concat(L.LQ.TESTNET,"/transaction/").concat(c),"_blank"):window.open("".concat(L.LQ.MAINNET,"/transaction/").concat(c),"_blank")},children:"View on Pacviewer"})]})]})})},R=e=>{let{isOpen:a,onClose:t,address:s,type:n,title:c}=e,[d,u]=(0,r.useState)(0),[m,x]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),{t:p}=(0,i.s)(),{broadcastTransaction:b}=j(),{fetchBalance:g}=(0,v.A)(),[w,y]=(0,r.useState)({}),[N,C]=(0,r.useState)(""),[k,T]=(0,r.useState)(!1),[F,B]=(0,r.useState)(0),[L]=(0,r.useState)(null),[R,M]=(0,r.useState)(""),H=(0,r.useRef)(null),[q,D]=(0,r.useState)(!1),[O,V]=(0,r.useState)(""),I="bridge"===n,z=c||p(I?"bridge":"send"),K=()=>{t(),f(!1),g(null,s),y({})},W=async()=>{T(!0),B(10),H.current&&(clearInterval(H.current),H.current=null);try{let e=await b(N);M(e),H.current=setInterval(()=>{B(e=>e<=1?(H.current&&(clearInterval(H.current),H.current=null),V(new Date().toLocaleString()),x(!1),T(!1),f(!0),0):e-1)},1e3)}catch(e){A.oR.error(e.message),T(!1)}};return(0,r.useEffect)(()=>{a&&u(e=>e+1)},[a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.A,{isOpen:a&&!m&&!h,onClose:K,title:z,children:[L&&(0,l.jsx)("div",{className:"bg-success bg-opacity-10 text-success p-3 mb-4 rounded",children:L}),(0,l.jsx)(S,{isLoading:q,setIsLoading:D,initialValues:{...w,fromAccount:w.fromAccount||s},onPreviewTransaction:(e,a)=>{y(e),C(a),x(!0)},submitButtonText:p(q?"loading":"next"),isOpen:a,forceReset:d,isBridgeMode:I})]}),(0,l.jsx)(E,{isOpen:m,fromAccount:w.fromAccount||"",receiver:w.receiver||"",amount:w.amount||"",fee:w.fee||"",memo:w.memo||"",signature:N,onConfirm:W,onClose:()=>{H.current&&(clearInterval(H.current),H.current=null),x(!1),T(!1),B(0)},title:p(I?"bridgePreview":"previewTransaction"),isSending:k,countdown:F}),(0,l.jsx)(P,{isOpen:h,onClose:K,txHash:R,amount:w.amount||"",recipient:w.receiver||"",date:O})]})},M=e=>{let{address:a,type:t,icon:o,label:c,variant:d="primary",className:u="w-[119px] h-[38px]",onClick:m}=e,[x,h]=(0,r.useState)(!1),{t:f}=(0,i.s)(),p=c||f(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.A,{variant:d,size:"small",onClick:()=>{m?m():h(!0)},"aria-label":p,startIcon:(0,l.jsx)(s.default,{src:o,alt:"",width:20,height:20,"aria-hidden":"true"}),className:u,fullWidth:!0,children:p}),!m&&(0,l.jsx)(R,{isOpen:x,onClose:()=>h(!1),address:a,type:t})]})}},96494:(e,a,t)=>{"use strict";t.d(a,{LQ:()=>s,mr:()=>r,pU:()=>l});let l="!@#$%^&*",r={MIN_LENGTH:8,HAS_UPPERCASE:/[A-Z]/,HAS_LOWERCASE:/[a-z]/,HAS_NUMBER:/\d/},s={MAINNET:"https://pacviewer.com",TESTNET:"https://phoenix.pacviewer.com"}}}]);