(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2696],{26313:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});var l=t(54568),s=t(16600);t(70742);let r=function(e){let{children:a,visible:t=!0,height:r,width:n,circle:i=!1,animate:o=!0,className:c,style:d,...u}=e;return(0,l.jsx)("div",{...u,style:{...d,"--skeleton-height":r,"--skeleton-width":i?r:n},"data-visible":t,"data-animate":o,className:(0,s.A)("skeleton rounded-md",c),children:a})}},39443:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568);t(7620);var s=t(61773),r=t(24083);let n=e=>{let{value:a,onChange:t,type:n="text",placeholder:i="",id:o,name:c,className:d="",labelClassName:u="",disabled:m=!1,required:x=!1,onBlur:h,label:f,hideLabel:p=!1,rightElement:v,autoComplete:b,showLogo:g=!1}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[!p&&f&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("label",{htmlFor:o,className:"text-sm font-medium text-quaternary ".concat(u),children:f}),g&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-quaternary",children:["(",(0,l.jsx)(s.default,{src:r.y,alt:"Pactus logo",className:"w-5 h-5 inline-block"}),")"]})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:n,id:o,name:c,value:a,onChange:t,onBlur:h,className:"w-full p-3 rounded-md bg-background text-text-primary text-sm border border-border focus:outline-none focus:border-primary ".concat(v?"pr-16":""," ").concat(d),placeholder:i,disabled:m,required:x,autoComplete:b}),v&&(0,l.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:v})]})]})}},41657:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568),s=t(62484);t(7620);var r=t(90623);let n=e=>{let{address:a}=e;return(0,l.jsx)(r.A,{address:a,type:"send",icon:s.AO,variant:"primary"})}},61624:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});var l=t(7620),s=t(77153);function r(e){let{wallet:a}=(0,s.v)(),[t,r]=(0,l.useState)(0),[n,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null),d=(0,l.useCallback)(async(t,l)=>{i(!0),c(null);let s=null!=t?t:a;if(!s)return c("Wallet not available"),i(!1),0;try{let a=l||e,t=0;if(a)t=(await s.getAddressBalance(a)).toPac(),r(t);else{let e=s.getAddresses();if(0===e.length)return r(0),i(!1),0;let a=e.map(async e=>{try{return(await s.getAddressBalance(e.address)).toPac()}catch(a){return console.warn("Failed to fetch balance for address ".concat(e.address,":"),a),0}});t=(await Promise.all(a)).reduce((e,a)=>e+a,0),r(t)}return t}catch(e){return r(0),c(e instanceof Error?e.message:"Failed to fetch balance"),0}finally{i(!1)}},[a,e]);return(0,l.useEffect)(()=>{a&&d()},[a,d]),{balance:t,isLoading:n,error:o,fetchBalance:d}}},67768:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568);t(7620);var s=t(90623),r=t(62484);let n=e=>{let{address:a=""}=e;return(0,l.jsx)(s.A,{address:a,type:"bridge",icon:r.Ji,variant:"secondary",className:"w-[119px] h-[38px] border-[1px] border-solid border-surface-light tablet:border-none"})}},69684:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568);t(7620);let s=e=>{let{value:a,onChange:t,options:s,placeholder:r,id:n,name:i,className:o="",labelClassName:c="",disabled:d=!1,required:u=!1,onBlur:m,label:x,hideLabel:h=!1}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[!h&&x&&(0,l.jsx)("label",{htmlFor:n,className:"text-sm font-medium text-quaternary ".concat(c),children:x}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{id:n,name:i,value:a,onChange:t,onBlur:m,className:"w-full p-3 rounded-md bg-background text-tertiary \n            text-sm border border-border focus:outline-none\n             focus:border-primary appearance-none hover:bg-background\n           focus:bg-background ".concat(o),disabled:d,required:u,children:[r&&(0,l.jsx)("option",{value:"",disabled:!0,className:"text-disabled",children:r}),s.map((e,a)=>(0,l.jsx)("option",{value:e.value,className:"bg-background text-quaternary",children:e.label},"".concat(e.value,"-").concat(a)))]}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})};var r=t(57798);let n=e=>{let{value:a,onChange:t,options:n,placeholder:i,id:o,className:c,name:d,labelClassName:u="",disabled:m=!1,required:x=!1,onBlur:h,label:f,hideLabel:p=!1,rules:v}=e;return(0,l.jsx)(r.A,{name:d,className:"flex flex-col gap-1",rules:v,children:(0,l.jsx)(s,{value:a,onChange:t,options:n,placeholder:i,id:o,className:c,name:d,labelClassName:u,disabled:m,required:x,onBlur:h,label:f,hideLabel:p})})}},70742:()=>{},90623:(e,a,t)=>{"use strict";t.d(a,{A:()=>D});var l=t(54568),s=t(7620),r=t(61773),n=t(23187),i=t(4180),o=t(40692),c=t(88443);let d=e=>{let{children:a,className:t="",...s}=e;return(0,l.jsx)("span",{className:"bg-gradient-primary bg-clip-text text-transparent font-medium font-primary text-xs ".concat(t),...s,children:a})};var u=t(24083);let m=e=>{let{value:a,onChange:t,maxLength:s=64,placeholder:n="Enter memo (optional)",id:i="memo",name:o="memo",className:c="",disabled:m=!1,required:x=!1,onBlur:h,label:f="Memo",hideLabel:p=!1,showLogo:v=!1,labelClassName:b=""}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[!p&&f&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("label",{htmlFor:i,className:"text-sm font-medium text-quaternary ".concat(b),children:f}),v&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-quaternary",children:["(",(0,l.jsx)(r.default,{src:u.y,alt:"Pactus logo",className:"w-5 h-5 inline-block"}),")"]})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",id:i,name:o,value:a,onChange:t,onBlur:h,className:"w-full p-3 rounded-md bg-background text-text-primary text-sm border border-border focus:outline-none focus:border-primary ".concat(c),placeholder:n,maxLength:s,disabled:m,required:x}),(0,l.jsxs)(d,{className:"absolute right-3 bottom-3",children:[null==a?void 0:a.length,"/",s]})]})]})};var x=t(57798);let h=e=>{let{value:a,onChange:t,maxLength:s=64,placeholder:r="Enter memo (optional)",id:n="memo",name:i="memo",className:o="",disabled:c=!1,required:d=!1,onBlur:u,label:h="Memo",hideLabel:f=!1,rules:p}=e;return(0,l.jsx)(x.A,{name:i,className:"flex flex-col gap-1",rules:p,children:(0,l.jsx)(m,{value:a,onChange:t,maxLength:s,placeholder:r,id:n,name:i,className:o,disabled:c,required:d,onBlur:u,label:h,hideLabel:f})})};var f=t(93185),p=t(39443),v=t(69684),b=t(60351),g=t(61624),j=t(77153),w=t(29851);function y(){let{wallet:e}=(0,j.v)(),[a,t]=(0,s.useState)(!1),[l,r]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),o=(0,s.useCallback)(async a=>{let{fromAddress:l,toAddress:s,amount:n,fee:o,memo:c="",password:d}=a;t(!0),r(null),i(null);try{if(!e)throw Error("Wallet is not available");if(!l||!s||!n||!o||!d)throw Error("Missing required transaction parameters");let a=w.J0.fromString(n),t=w.J0.fromString(o),r=await e.getSignTransferTransaction(l,s,a,t,c,d);return i(r.signedRawTxHex),r}catch(e){throw r(e instanceof Error?e.message:"Failed to send transaction"),e}finally{t(!1)}},[e]),c=(0,s.useCallback)(async a=>{let{fromAddress:l,toAddress:s,amount:n,fee:o,memo:c="",password:d,publicKey:u=""}=a;t(!0),r(null),i(null);try{if(!e)throw Error("Wallet is not available");if(!l||!s||!n||!o||!d)throw Error("Missing required transaction parameters");let a=w.J0.fromString(n),t=w.J0.fromString(o),r=await e.getSignBondTransaction(l,s,a,t,c,d,u);return i(r.signedRawTxHex),r}catch(e){throw r(e instanceof Error?e.message:"Failed to send transaction"),e}finally{t(!1)}},[e]);return{getSignTransferTransaction:o,getSignBondTransaction:c,broadcastTransaction:(0,s.useCallback)(async a=>{t(!0),r(null);try{if(!e)throw Error("Wallet is not available");if(!a)throw Error("Missing signed transaction data");let t=await e.broadcastTransaction(a);return i(t),t}catch(e){throw r(e instanceof Error?e.message:"Failed to broadcast transaction"),e}finally{t(!1)}},[e]),getValidatorPublicKey:(0,s.useCallback)(async a=>{var t;return null!=(t=null==e?void 0:e.getIndexedPublicKey(a))?t:""},[e]),isLoading:a,error:l,txHash:n}}var N=t(59280),A=t(8514),C=t(51874);let S={BRIDGE:{type:"TRANSFER",showTransactionTypeSelector:!1,showBridgeChainSelector:!0,showPublicKeyField:!1,receiverLabel:"evmAddress",receiverPlaceholder:"enterEvmAddress",fromLabel:"from"},TRANSFER:{type:"TRANSFER",showTransactionTypeSelector:!0,showBridgeChainSelector:!1,showPublicKeyField:!1,receiverLabel:"receiver",receiverPlaceholder:"selectOrEnterAddress",fromLabel:"from"},BOND:{type:"BOND",showTransactionTypeSelector:!0,showBridgeChainSelector:!1,showPublicKeyField:!0,receiverLabel:"validatorAddress",receiverPlaceholder:"selectOrEnterAddress",fromLabel:"accountAddress"}},k=e=>{var a,t;let{onSubmit:r,onPreviewTransaction:o,submitButtonText:u="Next",isLoading:m=!1,setIsLoading:x,isOpen:j=!0,forceReset:w=0,isBridgeMode:k=!1,initialValues:E}=e,[T]=(0,A.mN)(),F="tpc1rlqj68h3hm4nw9js3jpnl75kr8sfh79xkxt2lck",B=(0,A.FH)("fromAccount",T),L=(0,A.FH)("fee",T),P=(0,A.FH)("receiver",T),R=(0,A.FH)("amount",T),M=(0,A.FH)("password",T),D=(0,A.FH)("transactionType",T),H=(0,A.FH)("bridgeChain",T),q=k?"BRIDGE":D||"TRANSFER",O=S[q],V="BOND"===q,{showLoadingDialog:I,hideLoadingDialog:z}=(0,s.useContext)(N.bI),{getAccountList:K}=(0,c.useAccount)(),W=K(),{t:_}=(0,i.s)(),{getSignTransferTransaction:J,getSignBondTransaction:G}=y(),{balance:U,fetchBalance:Q,isLoading:Y}=(0,g.A)(B),[$,Z]=(0,s.useState)(!1),X=m||$,ee=[{value:"BASE",label:"Base"},{value:"BSC",label:"BNB Chain"},{value:"POLYGON",label:"Polygon"}],ea=W.map(e=>({value:e.address,label:"".concat(e.address," (\uD83E\uDD1D ").concat(e.name,")")}));(0,s.useEffect)(()=>{j||T.resetFields()},[j,W]),(0,s.useEffect)(()=>{w>0&&T.resetFields()},[w]),(0,s.useEffect)(()=>{B&&Q(null,B)},[B,Q]),(0,s.useEffect)(()=>{if(k&&P&&H){let e="".concat(P).concat("@".concat(H));T.setFieldValue("memo",e)}},[P,H,k,T]);let et=async e=>{try{let{fromAccount:a,receiver:t,amount:l,fee:s,memo:n,password:i,publicKey:c}=e;x?(x(!0),I(_("transactionLoading"))):Z(!0);let d=V?await G({fromAddress:a||"",toAddress:t||"",amount:l||"",fee:s||"",memo:n||"",password:i||"",publicKey:c||""}):await J({fromAddress:a||"",toAddress:k&&F?F:t||"",amount:l||"",fee:s||"",memo:n||"",password:i||""}),u=W.find(e=>e.address===a);T.resetFields(),o?o(e,d.signedRawTxHex,u):r&&r(e,d.signedRawTxHex,u)}catch(e){C.oR.error(e.message)}finally{x?(x(!1),z()):Z(!1)}},el=B&&P&&R&&L&&M&&B!==P;return(0,l.jsxs)(A.lV,{className:"flex flex-col gap-5 w-full px-2",form:T,initialValues:{transactionType:O.type,fromAccount:(null==E?void 0:E.fromAccount)||(null==(a=W[0])?void 0:a.address)||"",receiver:"",amount:"",fee:"0.01",memo:"",password:"",bridgeChain:(null==E?void 0:E.bridgeChain)||(k?"BASE":void 0)},onFinish:et,children:[O.showTransactionTypeSelector?(0,l.jsx)(v.A,{id:"transactionType",name:"transactionType",options:[{value:"TRANSFER",label:"Transfer"},{value:"BOND",label:"Bond"}],label:_("transactionType")}):null,(0,l.jsx)(v.A,{id:"from-account",name:"fromAccount",options:ea,label:_(O.fromLabel)}),k&&(0,l.jsx)(p.A,{id:"depositAddress",label:_("receiver"),value:"".concat(F," (Wrap to Deposit)"),disabled:!0,className:"text-disabled"}),O.showBridgeChainSelector?(0,l.jsx)(v.A,{id:"bridgeChain",name:"bridgeChain",options:ee,label:_("selectBridgeChain")}):null,(0,l.jsx)(f.A,{id:"receiver",name:"receiver",validateTrigger:"onBlur",placeholder:_(O.receiverPlaceholder),label:"evmAddress"===O.receiverLabel&&H?"".concat(_("addressOn")," ").concat((null==(t=ee.find(e=>e.value===H))?void 0:t.label)||H):_(O.receiverLabel),rules:"evmAddress"===O.receiverLabel?[{pattern:/^0x[a-fA-F0-9]{40}$/i,message:_("invalidEvmAddress")}]:void 0}),O.showPublicKeyField?(0,l.jsx)(f.A,{id:"publicKey",name:"publicKey",placeholder:_("enterPublickey"),label:_("validatorPublicKey")}):null,(0,l.jsx)(f.A,{id:"amount",name:"amount",placeholder:"0.00",label:_("amount"),showLogo:!0,rightElement:(0,l.jsx)(n.A,{variant:"text",size:"small",onClick:()=>{if(U&&!Y){let e=Math.max(0,U-(parseFloat(L)||.01));T.setFieldValue("amount",e.toFixed(5))}},disabled:Y||!U,className:"px-2 py-1 min-w-[40px] bg-transparent hover:bg-transparent",children:(0,l.jsx)(d,{children:_("max")})})}),(0,l.jsx)(f.A,{id:"fee",name:"fee",placeholder:"0.001",label:_("fee"),showLogo:!0,rightElement:(0,l.jsx)(n.A,{variant:"text",size:"small",onClick:()=>{T.setFieldValue("fee","0.01")},className:"px-2 py-1 min-w-[40px] bg-transparent hover:bg-transparent",children:(0,l.jsx)(d,{children:_("auto")})})}),(0,l.jsx)("div",{className:k?"hidden":"block",children:(0,l.jsx)(h,{})}),(0,l.jsx)(b.A,{id:"password",placeholder:_("enterYourPassword"),label:_("password")}),(0,l.jsx)("div",{className:"flex justify-end mt-3",children:(0,l.jsx)(n.A,{variant:"primary",size:"small",type:"submit",className:"w-[86px] h-[38px]",isLoading:X,disabled:!el||X,children:u})})]})};var E=t(68175),T=t(7657);let F=e=>{let{isOpen:a,fromAccount:t,receiver:i,amount:c,fee:d,memo:m,signature:x,onConfirm:h,onClose:f,title:p="Sending",isSending:v=!1,countdown:b=0,fromAccountName:g,fromAccountEmoji:j}=e,w=2*Math.PI*12,[y,N]=(0,s.useState)(0);(0,s.useEffect)(()=>{b>0&&N((10-b)/10*100)},[b]);let A=(0,E.FB)(),C=(0,s.useMemo)(()=>[A.accessor("field",{header:"Field",cell:e=>(0,l.jsx)("span",{className:"font-medium text-quaternary text-[14px]",children:e.getValue()}),size:120}),A.accessor("value",{header:"Value",cell:e=>{let a=e.getValue();return"Signature"===e.row.original.field?(0,l.jsx)("div",{className:"break-all text-xs bg-background-secondary p-1 rounded text-tertiary font-medium",children:a}):"Amount"===e.row.original.field||"Network fee"===e.row.original.field?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"break-all text-tertiary text-[12px] font-medium",children:a}),(0,l.jsx)(r.default,{src:u.y,alt:"Pactus logo",className:"w-3 h-3 inline-block"})]}):(0,l.jsx)("span",{className:"break-all text-tertiary text-[12px] font-medium",children:a})}})],[]),S=(0,s.useMemo)(()=>{let e=t.slice(0,6)+"..."+t.slice(-6),a=[{field:"From",value:g?"".concat(e," (").concat(j||"").concat(g,")"):t},{field:"To",value:i},{field:"Amount",value:c},{field:"Network fee",value:d}];return m&&a.push({field:"Memo",value:m}),x&&a.push({field:"Signed Transaction",value:x}),a},[t,i,c,d,m,x,g,j]),k=(0,T.N4)({data:S,columns:C,getCoreRowModel:(0,E.HT)()});return(0,l.jsx)(o.A,{isOpen:a,onClose:f,title:p,showCloseButton:!v,children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-2",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsx)("tbody",{children:k.getRowModel().rows.map(e=>(0,l.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{className:"py-3 ".concat("field"===e.column.id?"w-1/3 pr-4":"w-2/3"),children:(0,T.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})})}),(0,l.jsx)("div",{className:"flex justify-end gap-2 mt-4",children:v?(0,l.jsxs)("div",{className:"flex items-center justify-end w-full gap-2",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 text-primary",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 30 30",children:[(0,l.jsx)("circle",{cx:"15",cy:"15",r:12,fill:"transparent",stroke:"#2D3748",strokeWidth:"2"}),(0,l.jsx)("circle",{cx:"15",cy:"15",r:12,fill:"transparent",stroke:"#0FA870",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:w,strokeDashoffset:w-y/100*w,transform:"rotate(-90 15 15)",className:"transition-all duration-300 ease-linear"}),(0,l.jsx)("text",{x:"15",y:"16",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:b})]})})}),(0,l.jsx)(n.A,{variant:"secondary",size:"small",className:"w-[86px] h-[38px] bg-gradient-to-r from-[#EF0F0F] to-[#890909] text-white border-0",onClick:f,disabled:!0,children:"Cancel"})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.A,{variant:"primary",size:"small",className:"w-[86px] h-[38px]",onClick:h,children:"Confirm"})})})]})})};var B=t(7375),L=t(33934),P=t(96494);let R=e=>{let{isOpen:a,onClose:t,txHash:c,amount:m,recipient:x,date:h=new Date().toLocaleString(),networkFee:f="0.001"}=e,{t:p}=(0,i.s)(),{wallet:v}=(0,N.vT)(),b=(0,E.FB)(),[g,j]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(g){let e=setTimeout(()=>{j(!1)},2e3);return()=>clearTimeout(e)}},[g]);let w=(0,s.useMemo)(()=>[b.accessor("field",{header:"Field",cell:e=>(0,l.jsx)("span",{className:"text-quaternary text-sm",children:e.getValue()}),size:120}),b.accessor("value",{header:"Value",cell:e=>{let a=e.getValue(),t=e.row.original.field;return"Tx Hash"===t?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"text-tertiary break-all text-sm",children:a}),(0,l.jsx)("button",{className:"w-10 h-10",onClick:()=>{navigator.clipboard.writeText(c),j(!0)},"aria-label":"Copy address to clipboard",title:"Copy address to clipboard",children:(0,l.jsx)(r.default,{src:g?L.FU:L.nJ,alt:g?"Copied successfully":"Copy to clipboard",width:20,height:20})})]}):"Network Fee"===t?(0,l.jsxs)("div",{className:"flex items-center gap-1 text-tertiary text-sm",children:[a,(0,l.jsx)(r.default,{src:u.y,alt:"Pactus logo",className:"w-3 h-3 inline-block"})]}):"Status"===t?(0,l.jsx)(d,{className:"text-sm text-left",children:a}):(0,l.jsx)("span",{className:"text-tertiary text-sm text-left",children:a})}})],[g,c]),y=(0,s.useMemo)(()=>[{field:"Tx Hash",value:c},{field:"Status",value:"Successful"},{field:"Date",value:h},{field:"Recipient",value:x},{field:"Network Fee",value:f}],[c,h,f,x]),A=(0,T.N4)({data:y,columns:w,getCoreRowModel:(0,E.HT)()});return(0,l.jsx)(o.A,{isOpen:a,onClose:t,title:p("transactionSent"),showCloseButton:!0,children:(0,l.jsxs)("div",{className:"flex flex-col items-center p-4 gap-4",children:[(0,l.jsx)("div",{className:"flex flex-col items-center gap-2 w-full",children:(0,l.jsxs)(B.A,{variant:"h1",className:"text-quaternary text-[32px] md:text-[38px]",children:["-",m," PAC"]})}),(0,l.jsx)("div",{className:"bg-background-secondary rounded-md p-4 w-full",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsx)("tbody",{children:A.getRowModel().rows.map(e=>(0,l.jsx)("tr",{children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{className:"py-2 ".concat("field"===e.column.id?"w-1/3 pr-4 text-left":"w-2/3 text-left"),children:(0,T.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})})}),(0,l.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,l.jsx)(n.A,{variant:"secondary",size:"medium",className:"flex-1 invisible",onClick:t,children:p("close")}),(0,l.jsx)(n.A,{variant:"primary",size:"medium",onClick:()=>{(null==v?void 0:v.isTestnet())?window.open("".concat(P.LQ.TESTNET,"/transaction/").concat(c),"_blank"):window.open("".concat(P.LQ.MAINNET,"/transaction/").concat(c),"_blank")},children:"View on Pacviewer"})]})]})})},M=e=>{let{isOpen:a,onClose:t,address:r,type:n,title:c}=e,[d,u]=(0,s.useState)(0),[m,x]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),{t:p}=(0,i.s)(),{broadcastTransaction:v}=y(),{fetchBalance:b}=(0,g.A)(),[j,w]=(0,s.useState)({}),[N,A]=(0,s.useState)(""),[S,E]=(0,s.useState)(!1),[T,B]=(0,s.useState)(0),[L]=(0,s.useState)(null),[P,M]=(0,s.useState)(""),D=(0,s.useRef)(null),[H,q]=(0,s.useState)(!1),[O,V]=(0,s.useState)(""),[I,z]=(0,s.useState)(null),K="bridge"===n,W=c||p(K?"bridge":"send"),_="tpc1rlqj68h3hm4nw9js3jpnl75kr8sfh79xkxt2lck",J=_.slice(0,6)+"..."+_.slice(-6),G=()=>{t(),f(!1),b(null,r),w({})},U=async()=>{E(!0),B(10),D.current&&(clearInterval(D.current),D.current=null);try{let e=await v(N);M(e),D.current=setInterval(()=>{B(e=>e<=1?(D.current&&(clearInterval(D.current),D.current=null),V(new Date().toLocaleString()),x(!1),E(!1),f(!0),0):e-1)},1e3)}catch(e){C.oR.error(e.message),E(!1)}};return(0,s.useEffect)(()=>{a&&u(e=>e+1)},[a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.A,{isOpen:a&&!m&&!h,onClose:G,title:W,children:[L&&(0,l.jsx)("div",{className:"bg-success bg-opacity-10 text-success p-3 mb-4 rounded",children:L}),(0,l.jsx)(k,{isLoading:H,setIsLoading:q,initialValues:{...j,fromAccount:j.fromAccount||r},onPreviewTransaction:(e,a,t)=>{w(e),A(a),z(t),x(!0)},submitButtonText:p(H?"loading":"next"),isOpen:a,forceReset:d,isBridgeMode:K})]}),(0,l.jsx)(F,{isOpen:m,fromAccount:j.fromAccount||"",receiver:K?"".concat(J," (Wrap to Deposit)"):j.receiver||"",amount:j.amount||"",fee:j.fee||"",memo:j.memo||"",signature:N,onConfirm:U,onClose:()=>{D.current&&(clearInterval(D.current),D.current=null),x(!1),E(!1),B(0)},title:p(K?"bridgePreview":"previewTransaction"),isSending:S,countdown:T,fromAccountName:null==I?void 0:I.name,fromAccountEmoji:null==I?void 0:I.emoji}),(0,l.jsx)(R,{isOpen:h,onClose:G,txHash:P,amount:j.amount||"",recipient:j.receiver||"",date:O})]})},D=e=>{let{address:a,type:t,icon:o,label:c,variant:d="primary",className:u="w-[119px] h-[38px]",onClick:m}=e,[x,h]=(0,s.useState)(!1),{t:f}=(0,i.s)(),p=c||f(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.A,{variant:d,size:"small",onClick:()=>{m?m():h(!0)},"aria-label":p,startIcon:(0,l.jsx)(r.default,{src:o,alt:"",width:20,height:20,"aria-hidden":"true"}),className:u,fullWidth:!0,children:p}),!m&&(0,l.jsx)(M,{isOpen:x,onClose:()=>h(!1),address:a,type:t})]})}},93185:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var l=t(54568);t(7620);var s=t(39443),r=t(57798);let n=e=>{let{value:a,onChange:t,type:n="text",placeholder:i="",id:o,name:c,className:d="",labelClassName:u="",disabled:m=!1,required:x=!1,onBlur:h,label:f,hideLabel:p=!1,rightElement:v,autoComplete:b,showLogo:g=!1,rules:j,validateTrigger:w}=e;return(0,l.jsx)(r.A,{name:c,className:"flex flex-col gap-1",rules:j,validateTrigger:w,children:(0,l.jsx)(s.A,{value:a,onChange:t,type:n,placeholder:i,id:o,name:c,className:d,labelClassName:u,disabled:m,required:x,onBlur:h,label:f,hideLabel:p,rightElement:v,autoComplete:b,showLogo:g})})}},96494:(e,a,t)=>{"use strict";t.d(a,{LQ:()=>r,mr:()=>s,pU:()=>l});let l="!@#$%^&*",s={MIN_LENGTH:8,HAS_UPPERCASE:/[A-Z]/,HAS_LOWERCASE:/[a-z]/,HAS_NUMBER:/\d/},r={MAINNET:"https://pacviewer.com",TESTNET:"https://phoenix.pacviewer.com"}}}]);