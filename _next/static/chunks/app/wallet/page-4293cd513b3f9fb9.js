(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1730],{22951:(e,s,l)=>{"use strict";l.d(s,{default:()=>K});var t,a=l(54568),i=l(7620),r=l(61773),n=l(62484),d=l(6190),c=l(67768),o=l(88443),h=l(62942),x=l(61624),u=l(89256),m=l(59280),p=l(4180),v=l(7375),f=l(60692),j=l(23187),y=l(35649),w=l(26313);let b={src:"/_next/static/media/pacview-icon.241f2d74.svg",height:144,width:144,blurWidth:0,blurHeight:0},N={src:"/_next/static/media/link-icon.2d715d30.svg",height:16,width:16,blurWidth:0,blurHeight:0};l(67378);var g=l(29851);let _=e=>g.J0.fromString((e/1e9).toString()).format()+" PAC",A=e=>{let s=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(s)};function C(e){let{children:s}=e;return(0,a.jsx)("div",{className:"tablet:hidden",children:s})}function k(e){let{children:s}=e;return(0,a.jsx)("div",{className:"hidden tablet:!block",children:s})}let S=e=>{let{transactions:s,onLoadMore:l,isLoading:t,hasMore:n,height:d="100%",hasError:c=!1}=e,{t:o}=(0,p.s)(),h=(0,i.useRef)(null),x=(0,i.useRef)(null),u=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!t)return h.current&&h.current.disconnect(),h.current=new IntersectionObserver(e=>{e[0].isIntersecting&&n&&l()}),x.current&&h.current.observe(x.current),()=>{h.current&&h.current.disconnect()}},[t,n,l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{children:(0,a.jsx)("div",{className:"transactions-history shadow-inset",style:{height:d},children:(0,a.jsx)("div",{className:"transactions-history__wrapper",children:(0,a.jsx)("div",{className:"px-8 py-6",children:(0,a.jsxs)("table",{className:"transactions-history__table bg-[#15191C] rounded-md",children:[(0,a.jsx)("thead",{className:"transactions-history__header",children:(0,a.jsx)("tr",{className:"transactions-history__row",children:["Date","TX Hash","From","To","Amount","Fee"].map(e=>(0,a.jsx)("th",{className:"transactions-history__cell transactions-history__cell--header",children:e},e))})}),(0,a.jsxs)("tbody",{className:"transactions-history__body",children:[c&&0===s.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"transactions-history__empty",children:o("fetchTransactionFail")})}):s.length>0?s.map((e,l)=>{var t,i,n,d,c,o;return(0,a.jsxs)("tr",{className:"transactions-history__row",ref:l===s.length-1?x:null,children:[(0,a.jsx)("td",{className:"transactions-history__cell",children:A(e.createdAt)}),(0,a.jsx)("td",{className:"transactions-history__cell transactions-history__cell--hash",children:(0,a.jsx)("a",{href:"https://pacviewer.com/transaction/".concat(e.hash),target:"_blank",children:e.hash})}),(0,a.jsxs)("td",{className:"transactions-history__cell flex",title:e.from,children:[(null===(t=e.from_address_alias)||void 0===t?void 0:t.icon)&&(0,a.jsx)(r.default,{src:e.from_address_alias.icon,alt:"",width:16,height:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-truncate",children:null!==(c=null===(i=e.from_address_alias)||void 0===i?void 0:i.title)&&void 0!==c?c:e.from})]}),(0,a.jsx)("td",{className:"transactions-history__cell",title:e.to,children:(0,a.jsxs)("div",{className:"flex",children:[(null===(n=e.to_address_alias)||void 0===n?void 0:n.icon)&&(0,a.jsx)(r.default,{src:e.to_address_alias.icon,alt:"",width:16,height:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-truncate",children:null!==(o=null===(d=e.to_address_alias)||void 0===d?void 0:d.title)&&void 0!==o?o:e.to})]})}),(0,a.jsx)("td",{className:"transactions-history__cell",children:_(e.value)}),(0,a.jsx)("td",{className:"transactions-history__cell",children:_(e.fee)})]},l)}):t?null:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"transactions-history__empty",children:o("noTransactionFound")})}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,children:(0,a.jsx)(w.A,{width:"100%",height:"34px"})})}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,children:(0,a.jsx)(w.A,{width:"100%",height:"34px"})})}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,children:(0,a.jsx)(w.A,{width:"100%",height:"34px"})})})]})]})]})})})})}),(0,a.jsx)(C,{children:(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[c&&0===s.length?(0,a.jsx)("div",{className:"transactions-history__empty",children:o("fetchTransactionFail")}):s.length>0?s.map((e,l)=>(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",ref:l===s.length-1?u:null,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium",children:[(0,a.jsx)("div",{children:A(e.createdAt)}),(0,a.jsx)("div",{children:_(e.value)})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-gradient",children:(0,a.jsx)("div",{children:e.from})})]}),l!==s.length-1&&(0,a.jsx)("div",{className:"h-[1px] bg-gray-200 w-full"})]},l)):t?null:(0,a.jsx)("div",{className:"transactions-history__empty",children:o("noTransactionFound")}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(w.A,{width:"100%",height:"48px"})}),(0,a.jsx)("div",{children:(0,a.jsx)(w.A,{width:"100%",height:"48px"})}),(0,a.jsx)("div",{children:(0,a.jsx)(w.A,{width:"100%",height:"48px"})})]})]})})]})},T={url:null!==(t=l(40459).env.NEXT_PUBLIC_PACVIEWER_API_URL)&&void 0!==t?t:"https://api.pacviewer.com"},P=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;console.log("address",T.url);let t=await fetch("".concat(T.url,"/v1/accounts/").concat(e,"/txs?page_no=").concat(s,"&page_size=").concat(l));if(!t.ok)throw Error("Failed to fetch transactions");return t.json()};var F=l(26680),E=l(96494);let K=()=>{var e,s,l,t,g,_,A,T,K,I,H;let{wallet:L,setHeaderTitle:O,setEmoji:q}=(0,i.useContext)(m.bI),[R,U]=(0,i.useState)(!1),[z,J]=(0,i.useState)(!1),[M,W]=(0,i.useState)(!1),{getAccountByAddress:D}=(0,o.useAccount)(),Q=(0,h.useSearchParams)(),V=null!==(l=null==Q?void 0:Q.get("address"))&&void 0!==l?l:"",X=V?D(V):null,{balance:B,isLoading:Y}=(0,x.A)(null==X?void 0:X.address),{t:G}=(0,p.s)(),[Z,$]=(0,i.useState)([]),[ee,es]=(0,i.useState)(1),[el,et]=(0,i.useState)(!0),[ea,ei]=(0,i.useState)(!1),[er,en]=(0,i.useState)(!1),ed=()=>{var e;navigator.clipboard.writeText(null!==(e=null==X?void 0:X.address)&&void 0!==e?e:""),U(!0),setTimeout(()=>U(!1),2e3)},ec=(0,i.useCallback)(async()=>{if((null==X?void 0:X.address)&&!ea&&el){ei(!0),en(!1);try{let{data:{data:e,total_items:s}}=await P(X.address,ee);$(s=>[...s,...e]),et(Z.length+e.length<s),es(e=>e+1)}catch(e){console.error("Failed to load transactions:",e),en(!0),et(!1)}finally{ei(!1)}}},[null==X?void 0:X.address,ee,el,ea,Z.length]);return(0,i.useEffect)(()=>{$([]),es(1),et(!0),en(!1),ec()},[null==X?void 0:X.address]),(0,i.useEffect)(()=>{var e,s;O(null!==(e=null==X?void 0:X.label)&&void 0!==e?e:""),q(null!==(s=null==X?void 0:X.emoji)&&void 0!==s?s:"\uD83E\uDD1D")},[null==X?void 0:X.label,null==X?void 0:X.emoji,O,q]),(0,a.jsxs)(i.Suspense,{fallback:(0,a.jsx)("div",{children:G("loading")}),children:[(0,a.jsx)(k,{children:(0,a.jsxs)("div",{className:"pt-4 px-4 md:px-7 pb-7",children:[(0,a.jsx)("section",{className:"w-full ml-auto bg-surface-medium rounded-md shadow-inset",children:(0,a.jsxs)("div",{className:"flex gap-4 md:gap-6 p-4 md:p-6 w-full",children:[(0,a.jsxs)("div",{className:"relative h-fit",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center bg-white rounded-md p-4 w-[214px] h-[214px] min-w-[214px] min-h-[214px]",children:(0,a.jsx)(f.Ay,{value:(0,F.u)(null!==(t=null==X?void 0:X.address)&&void 0!==t?t:""),level:"H",size:214,"aria-label":"QR code for wallet address",className:"rounded-md w-full h-full"})}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-[48px] h-[48px] rounded-full overflow-hidden bg-white flex items-center justify-center transform -translate-x-1/2 -translate-y-1/2",children:(0,a.jsx)(r.default,{unoptimized:!0,src:n._T,alt:"",width:40,height:40})})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.A,{variant:"body1",color:"text-quaternary",className:"font-medium",children:G("balance")}),(0,a.jsx)("button",{className:"ml-auto",onClick:()=>{J(!0)},title:G("showPrivateKey"),children:(0,a.jsx)(r.default,{src:n.W0,alt:"",width:24,height:24})})]}),Y?(0,a.jsx)(w.A,{width:"100px",height:"30px"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.default,{src:n.y0,alt:"Pactus logo"}),(0,a.jsx)(v.A,{variant:"h1",color:"text-quaternary",className:"font-medium text-[24px] md:text-[30px]",children:B}),(0,a.jsx)(v.A,{variant:"h2",color:"text-disabled",className:"font-medium mt-1",children:"PAC"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-4",children:[(0,a.jsxs)(v.A,{variant:"caption1",color:"text-quaternary",children:[G("accountAddress"),":"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{variant:"caption1",className:"break-all",children:null!==(g=null==X?void 0:X.address)&&void 0!==g?g:""}),(0,a.jsx)("button",{onClick:ed,"aria-label":"Copy address to clipboard",title:"Copy address to clipboard",className:"flex-shrink-0 w-fit",children:(0,a.jsx)(r.default,{src:R?n.FU:n.nJ,alt:R?"Copied successfully":"Copy to clipboard",width:25,height:25})}),(0,a.jsx)("button",{onClick:()=>W(!0),title:G("showPublicKey"),className:"flex-shrink-0 w-fit",children:(0,a.jsx)(r.default,{src:N,alt:"",width:24,height:24})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 pt-4",children:[(0,a.jsx)(d.A,{address:null!==(_=null==X?void 0:X.address)&&void 0!==_?_:""}),(0,a.jsx)(c.A,{}),(0,a.jsx)(j.A,{variant:"secondary",size:"small",onClick:()=>{(null==L?void 0:L.isTestnet())?window.open("".concat(E.LQ.TESTNET,"/address/").concat(V),"_blank"):window.open("".concat(E.LQ.MAINNET,"/address/").concat(V),"_blank")},"aria-label":G("bridge"),className:"w-fit h-[38px]",fullWidth:!0,startIcon:(0,a.jsx)(r.default,{src:b,alt:"",width:20,height:20,"aria-hidden":"true"}),children:G("checkOnExplorer")})]})]})]})}),(0,a.jsx)("section",{className:"w-full ml-auto bg-surface-medium rounded-md mt-4",children:(0,a.jsx)("div",{children:(0,a.jsx)(S,{transactions:Z,onLoadMore:ec,isLoading:ea,hasMore:el,hasError:er})})})]})}),(0,a.jsx)(C,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pr-4 pl-7 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-surface-light flex justify-center items-center",children:(0,a.jsx)(r.default,{src:n.y0,alt:"Pactus logo"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg text-white font-bold",children:"Pactus"}),(0,a.jsx)("div",{className:"text-tertiary",children:"PAC"})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[B," PAC"]})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"relative h-fit w-fit",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center bg-white rounded-md p-4 w-[214px] h-[214px] min-w-[214px] min-h-[214px]",children:(0,a.jsx)(f.Ay,{value:(0,F.u)(null!==(A=null==X?void 0:X.address)&&void 0!==A?A:""),level:"H",size:214,"aria-label":"QR code for wallet address",className:"rounded-md w-full h-full"})}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-[48px] h-[48px] rounded-full overflow-hidden bg-white flex items-center justify-center transform -translate-x-1/2 -translate-y-1/2",children:(0,a.jsx)(r.default,{unoptimized:!0,src:n._T,alt:"",width:40,height:40})})]})}),(0,a.jsxs)("div",{className:"w-full pl-7 pr-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-4",children:[(0,a.jsxs)(v.A,{variant:"caption1",color:"text-quaternary text-sm",children:[G("accountAddress"),":"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{variant:"caption1",className:"break-all text-sm",children:null!==(T=null==X?void 0:X.address)&&void 0!==T?T:""}),(0,a.jsx)("button",{onClick:ed,"aria-label":"Copy address to clipboard",title:"Copy address to clipboard",className:"flex-shrink-0 w-fit",children:(0,a.jsx)(r.default,{src:R?n.FU:n.nJ,alt:R?"Copied successfully":"Copy to clipboard",width:25,height:25})}),(0,a.jsx)("button",{onClick:()=>W(!0),title:G("showPublicKey"),className:"flex-shrink-0 w-fit",children:(0,a.jsx)(r.default,{src:N,alt:"",width:24,height:24})})]})]}),(0,a.jsxs)("div",{className:"w-full flex justify-center mt-2 gap-4",children:[(0,a.jsx)(d.A,{address:null!==(K=null==X?void 0:X.address)&&void 0!==K?K:""}),(0,a.jsx)(c.A,{})]})]}),(0,a.jsxs)("div",{className:"w-full pl-7 pr-4 mt-12",children:[(0,a.jsx)("div",{className:"flex justify-between items-center w-full mb-4",children:(0,a.jsx)("div",{className:"text-xl font-semibold",children:"Activity"})}),(0,a.jsx)(S,{transactions:Z,onLoadMore:ec,isLoading:ea,hasMore:el,hasError:er})]})]})}),(0,a.jsx)(u.A,{isOpen:z,onClose:()=>J(!1),address:null!==(I=null==X?void 0:X.address)&&void 0!==I?I:""}),(0,a.jsx)(y.A,{isOpen:M,onClose:()=>W(!1),privateKeyHex:null!==(H=null==L?void 0:null===(e=L.getAddressInfo(V))||void 0===e?void 0:e.publicKey)&&void 0!==H?H:"",title:G("showPublicKey"),label:G("publicKey"),copyTitle:G("copyPublicKey"),extraInfo:null==L?void 0:null===(s=L.getAddressInfo(V))||void 0===s?void 0:s.path,extraInfoTitle:G("hdPath"),extraInfoCopyTitle:G("copyHDPath")})]})}},26498:(e,s,l)=>{Promise.resolve().then(l.bind(l,22951))},35649:(e,s,l)=>{"use strict";l.d(s,{A:()=>c});var t=l(54568),a=l(7620),i=l(40692);l(46224);var r=l(62484),n=l(61773),d=l(7375);let c=e=>{let{isOpen:s,onClose:l,privateKeyHex:c,title:o,label:h,copyTitle:x,extraInfo:u,extraInfoTitle:m,extraInfoCopyTitle:p}=e,[v,f]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),w=e=>{navigator.clipboard.writeText(e),f(!0),setTimeout(()=>f(!1),2e3)},b=e=>{navigator.clipboard.writeText(e),y(!0),setTimeout(()=>y(!1),2e3)};return(0,t.jsxs)(i.A,{isOpen:s,onClose:l,title:o,children:[(0,t.jsxs)("div",{className:"info-field pl-1 pr-1",children:[(0,t.jsx)(d.A,{variant:"body2",color:"text-quaternary",className:"pb-2 font-bold",children:h}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.A,{variant:"caption2",color:"text-quaternary",className:"pb-2",children:c}),(0,t.jsx)("button",{className:"wallet_info-copy-button",onClick:()=>w(c),"aria-label":x,title:x,children:(0,t.jsx)(n.default,{src:v?r.FU:r.nJ,alt:v?"Copied successfully":"Copy to clipboard",width:25,height:25})})]})]}),u&&(0,t.jsxs)("div",{className:"info-field pl-1 pr-1",children:[(0,t.jsx)(d.A,{variant:"body2",color:"text-quaternary",className:"pb-2 font-bold",children:m}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.A,{variant:"caption2",color:"text-quaternary",className:"pb-2",children:u}),(0,t.jsx)("button",{className:"wallet_info-copy-button",onClick:()=>b(u),"aria-label":p,title:p,children:(0,t.jsx)(n.default,{src:j?r.FU:r.nJ,alt:j?"Copied successfully":"Copy to clipboard",width:25,height:25})})]})]})]})}},37689:()=>{},46224:()=>{},67378:()=>{},89256:(e,s,l)=>{"use strict";l.d(s,{A:()=>u});var t=l(54568),a=l(7620),i=l(40692);l(37689);var r=l(59280),n=l(35649),d=l(7375),c=l(23187),o=l(60351),h=l(4180),x=l(8514);let u=e=>{var s;let{isOpen:l,onClose:u,address:m}=e,[p]=(0,x.mN)(),v=(0,x.FH)("password",p)||"",[f,j]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),[b,N]=(0,a.useState)(null),[g,_]=(0,a.useState)(""),{getAddressInfo:A}=(0,r.F7)(),{t:C}=(0,h.s)(),[k,S]=(0,a.useState)(!1);a.useEffect(()=>{l||(p.resetFields(),S(!1),_(""),j(!1))},[l,p]);let T=e=>{var s,l,t,a;N({...e,address:null!==(s=e.address)&&void 0!==s?s:"",publicKey:null!==(l=e.publicKey)&&void 0!==l?l:"",path:null!==(t=e.path)&&void 0!==t?t:"",label:null!==(a=e.label)&&void 0!==a?a:""}),w(!0)},P=async()=>{try{j(!0);let e=await A(v,m);if(!e)throw Error("Failed to get address info");T(e),u()}catch(e){_("".concat(e))}finally{j(!1)}},F=f||!v.trim();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.A,{isOpen:l,onClose:u,title:"Password",children:[(0,t.jsxs)(x.lV,{className:"modal-input-container pl-1 pr-1",form:p,initialValues:{password:""},onFinish:P,children:[(0,t.jsx)(d.o,{variant:"caption1",className:"p-1 mb-2",children:C("toShowPrivateKey")}),(0,t.jsx)(o.A,{id:"password",onChange:()=>{S(!0)},placeholder:C("enterYourPassword"),label:C("password"),hideLabel:!0,touched:k,error:""})]}),(0,t.jsxs)("div",{className:"add-account-actions pl-1 pr-1",children:[g&&(0,t.jsx)("p",{id:"password-error",className:"modal-error-text",role:"alert",children:g}),(0,t.jsx)(c.A,{variant:"primary",disabled:F,onClick:()=>P(),type:"button",className:"w-[86px] h-[38px] ml-auto",labelClassName:"text-sm",children:f?"Verifying...":"Show"})]})]}),b&&(0,t.jsx)(n.A,{isOpen:y,onClose:()=>w(!1),addressInfo:b,privateKeyHex:null!==(s=b.privateKeyHex)&&void 0!==s?s:"",title:C("showPrivateKey"),label:C("privateKey"),copyTitle:C("copyPrivateKey")})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8718,6688,7131,4087,6539,3473,607,1e3,3372,1874,7657,692,4013,6801,4801,587,8315,7358],()=>s(26498)),_N_E=e.O()}]);